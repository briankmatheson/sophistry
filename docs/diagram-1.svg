<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="720" viewBox="0 0 1200 720">
  <defs>
    <style>
      .bg { fill: #ffffff; }
      .box { fill: #ffffff; stroke: #111111; stroke-width: 2; rx: 14; ry: 14; }
      .box2 { fill: #f7f7f7; stroke: #111111; stroke-width: 2; rx: 14; ry: 14; }
      .title { font: 700 22px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111111; }
      .label { font: 600 16px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111111; }
      .small { font: 500 14px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #222222; }
      .muted { font: 500 13px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #555555; }
      .arrow { stroke: #111111; stroke-width: 2.5; fill: none; marker-end: url(#arrowhead); }
      .dashed { stroke-dasharray: 6 6; }
      .pill { fill: #111111; }
      .pillText { font: 700 12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #ffffff; letter-spacing: 0.08em; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
      <polygon points="0,0 10,4 0,8" fill="#111111"/>
    </marker>
  </defs>

  <rect class="bg" x="0" y="0" width="1200" height="720"/>

  <text class="title" x="40" y="54">Sophistry — System Architecture</text>

  <!-- Client -->
  <rect class="box" x="70" y="120" width="320" height="150"/>
  <text class="label" x="95" y="155">Flutter Client</text>
  <text class="muted" x="95" y="182">Web + Mobile UI</text>
  <text class="muted" x="95" y="206">Answer editor + preview dial</text>
  <text class="muted" x="95" y="230">Question set dropdown</text>

  <!-- API -->
  <rect class="box" x="460" y="110" width="420" height="320"/>
  <text class="label" x="485" y="145">Django REST API</text>
  <text class="muted" x="485" y="172">Run/session lifecycle, moderation</text>

  <!-- API endpoints pills -->
  <rect class="pill" x="485" y="196" width="150" height="26" rx="13" ry="13"/>
  <text class="pillText" x="500" y="214">/mobile/run</text>

  <rect class="pill" x="645" y="196" width="190" height="26" rx="13" ry="13"/>
  <text class="pillText" x="660" y="214">/mobile/question</text>

  <rect class="pill" x="485" y="232" width="200" height="26" rx="13" ry="13"/>
  <text class="pillText" x="500" y="250">/mobile/question_sets</text>

  <rect class="pill" x="695" y="232" width="150" height="26" rx="13" ry="13"/>
  <text class="pillText" x="710" y="250">/mobile/preview</text>

  <rect class="pill" x="485" y="268" width="170" height="26" rx="13" ry="13"/>
  <text class="pillText" x="500" y="286">/mobile/answer</text>

  <rect class="pill" x="665" y="268" width="180" height="26" rx="13" ry="13"/>
  <text class="pillText" x="680" y="286">/mobile/testcase</text>

  <!-- Scoring -->
  <rect class="box2" x="505" y="315" width="350" height="95"/>
  <text class="label" x="530" y="348">Structural Scoring Engine</text>
  <text class="muted" x="530" y="374">Domain + mode alignment</text>
  <text class="muted" x="530" y="396">Anti-gaming penalties + rubric_version</text>

  <!-- Storage -->
  <rect class="box" x="950" y="120" width="180" height="150"/>
  <text class="label" x="980" y="155">PostgreSQL</text>
  <text class="muted" x="980" y="182">Runs</text>
  <text class="muted" x="980" y="204">TestCases / TestSets</text>
  <text class="muted" x="980" y="226">Results</text>

  <rect class="box" x="950" y="310" width="180" height="120"/>
  <text class="label" x="980" y="344">Redis (optional)</text>
  <text class="muted" x="980" y="372">Caching / transient state</text>

  <!-- Admin -->
  <rect class="box" x="70" y="330" width="320" height="100"/>
  <text class="label" x="95" y="365">Django Admin</text>
  <text class="muted" x="95" y="392">Moderate + activate testcases</text>

  <!-- Arrows -->
  <path class="arrow" d="M 390 195 L 460 195"/>
  <text class="small" x="395" y="180">HTTPS JSON</text>

  <path class="arrow" d="M 880 195 L 950 195"/>
  <text class="small" x="885" y="180">ORM</text>

  <path class="arrow" d="M 680 430 L 680 470"/>
  <path class="arrow dashed" d="M 1040 310 L 1040 270"/>

  <!-- Admin arrow to API -->
  <path class="arrow" d="M 390 380 L 460 320"/>
  <text class="small" x="320" y="315">moderation</text>

  <!-- Footer note -->
  <text class="muted" x="40" y="680">Design: UUID-only sessions • structural alignment scoring • curated + community question sets</text>
</svg>